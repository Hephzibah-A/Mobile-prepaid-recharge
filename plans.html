<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MobiComm | Plans</title>
    <!-- <link rel="stylesheet" href="Assets/css/plans.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="main.css">
    <style>
        /* ===== Base Styles ===== */
        :root {
            --text: rgb(6, 6, 4);
            --background: rgb(251, 251, 249);
            --primary: #B8FC67;
            --secondary: #B8FC67;

        }

        /* ===== Plan Filtering & Search ===== */
        .search-filter-row {
            margin: 20px 0;
        }

        #searchBox {
            border-radius: 25px;
            padding: 12px 20px;
            border: 2px solid black;
            outline: none;
            /* Removes default blue outline */
            transition: border-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }

        #searchBox:focus {
            border-color: var(--primary);
            box-shadow: 0 0 5px var(--primary);
            /* Optional: Adds a subtle glow effect */
        }


        /* ===== Filter Button ===== */
        .filter-btn {
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid black;
            background-color: white;
            transition: all 0.3s ease;
        }

        .filter-btn:hover {
            background-color: #B8FC67;
            border-color: #B8FC67;
        }

        /* ===== Category Navigation ===== */
        .subnav {
            margin: 20px 0;
            border-bottom: 2px solid #eee;
            padding: 10px;
        }

        .subnav ul {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            list-style: none;
        }

        .subnav ul li a {
            position: relative;
            padding: 10px 15px;
            font-family: 'Helvetica', Helvetica, ;
            font-weight: 600;
            font-size: 1vw;
            color: #000;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .subnav ul li a.active,
        .subnav ul li a:hover {
            background: #B8FC67;
            color: #000;
        }

        /* ===== Remove blue outline when focusing input fields ===== */
        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #B8FC67;
            box-shadow: 0 0 5px rgba(184, 252, 103, 0.8);
        }

        .offcanvas {
            position: fixed;
            top: 0;
            right: -250px;
            width: 350px;
            height: 100%;
            background: #111;
            color: white;
            transition: 0.3s;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.5);
        }

        .offcanvas.open {
            right: 0;
        }

        .offcanvas-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #444;
            padding-bottom: 10px;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        .offcanvas-menu {
            list-style: none;
            padding: 0;
            margin-top: 20px;
        }

        .offcanvas-menu li {
            margin: 10px 0;
        }

        .offcanvas-menu a {
            text-decoration: none;
            color: white;
            font-size: 18px;
            display: block;
            padding: 5px 0;
        }

        .offcanvas-menu a:hover {
            color: #B8FC67;
        }

        /* ===== Toast Notification ===== */
        .toast-card {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            display: none;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
            }

            to {
                transform: translateX(0);
            }
        }

        /* Override Bootstrap Primary Blue */
        :root {
            --bs-primary: #B8FC67 !important;
            /* Set your theme color */
            --bs-primary-rgb: 184, 252, 103 !important;
            /* RGB equivalent */
        }

        /* Override Bootstrap default blue */
        .btn-primary,
        .dropdown-menu,
        .form-select,
        .btn-close {
            background-color: #B8FC67 !important;
            border-color: #B8FC67 !important;
            color: black !important;
        }

        /* Hover & Active States */
        .btn-primary:hover,
        .btn-primary:focus,
        .dropdown-menu .dropdown-item:hover,
        .form-select:hover {
            background-color: black !important;
            color: white !important;
            box-shadow: 0 0 5px rgba(184, 252, 103, 0.8);
        }


        /* Dropdown Menu */
        .dropdown-menu {
            background-color: black !important;
            border: 1px solid #B8FC67 !important;
            box-shadow: 0 0 5px rgba(184, 252, 103, 0.8);
        }

        .dropdown-item {
            color: white !important;
        }

        .dropdown-item:hover,
        .dropdown-item:focus {
            background-color: #B8FC67 !important;
            color: black !important;
        }

        /* Slider */
        .form-range::-webkit-slider-runnable-track {
            background-color: white !important;
        }

        .form-range::-webkit-slider-thumb {
            background-color: #B8FC67 !important;
            box-shadow: 0 0 5px rgba(184, 252, 103, 0.8);
        }

        .form-range::-webkit-slider-thumb:hover {
            background-color: black !important;
        }

        /* Change Dropdown Item Hover & Selected Background */
        select option:hover,
        select option:checked {
            background-color: #B8FC67 !important;
            /* Your primary theme color */
            color: white !important;
            box-shadow: 0 0 5px rgba(184, 252, 103, 0.8);
        }



        /* Dropdown Hover Effect */
        .form-select:hover {
            border-color:
                #B8FC67 !important;
            /* Accent color on hover */
            box-shadow: 0 0 5px rgba(184, 252, 103, 0.8);
        }

        /* Style the dropdown itself */
        .form-select {
            background-color: black !important;
            color: white !important;
            border: 2px solid #B8FC67 !important;
            box-shadow: 0 0 5px rgba(184, 252, 103, 0.8);
            /* Green border */
        }



        /* Change background color for ALL hovered/select items */
        .dropdown-menu .dropdown-item {
            color: white !important;
            /* Text color */
            background-color: black !important;
            /* Default background */
        }

        /* Apply theme color when hovering */
        .dropdown-menu .dropdown-item:hover,
        .dropdown-menu .dropdown-item:focus,
        .dropdown-menu .dropdown-item.active {
            background-color: #B8FC67 !important;
            box-shadow: 0 0 5px rgba(184, 252, 103, 0.8);
            /* Your theme color */
            color: black !important;
            /* Text contrast */
        }

        /* Style the select dropdown */
        select {
            background-color: black !important;
            color: white !important;
            border: 2px solid #B8FC67 !important;
            /* Your theme color */
            appearance: none;
            /* Remove browser default style */
        }

        /* Dropdown options styling */
        select option {
            background-color: black !important;
            /* Default background */
            color: white !important;
            /* Default text */
        }

        /* When hovering over an option */
        select option:hover,
        select option:active {
            background-color: #B8FC67 !important;

            color: black !important;

        }


        select option:checked {
            background-color: #B8FC67 !important;
            /* Your theme color */
            color: black !important;
            /* Contrast text */
        }

        .text-bold {
            font-weight: bolder;
        }

        /* Responsive Design for iPhone SE and Small Screens */
        @media (max-width: 375px) {
            header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 10px;
            }

            header h1 {
                font-size: 1.2rem;
            }

            nav ul {
                display: none;
                flex-direction: column;
                background-color: white;
                position: absolute;
                top: 50px;
                right: 10px;
                width: 200px;
                border: 1px solid #ddd;
                border-radius: 8px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }

            nav ul li {
                margin: 0;
                padding: 10px;
                text-align: center;
            }

            nav ul li a {
                font-size: 0.9rem;
            }

            nav button {
                display: none;
            }

            .burger-menu {
                display: block;
                font-size: 1.5rem;
                cursor: pointer;
                background: none;
                border: none;
            }

            .burger-menu.active+ul {
                display: flex;
            }

            .container {
                padding: 10px;
            }

            #searchBox {
                width: 100%;
                font-size: 0.9rem;
            }

            .filter-btn {
                width: 35px;
                height: 35px;
            }

            .subnav ul {
                flex-wrap: wrap;
                gap: 0.5rem;
            }

            .subnav ul li a {
                font-size: 5rem;
                /* padding: 8px 10px; */
            }

            .card {
                font-size: 0.9rem;
            }

            .offcanvas {
                width: 100%;
            }

            .toast-card {
                width: 90%;
                bottom: 10px;
                right: 5%;
            }

            ul#categoryNav.nav {
                font-size: large;
            }
        }
    </style>
</head>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<body>
    <!-- Navbar -->
    <div class="main">
        <header>
            <a href="index.html">
                <h1><i class="ri-gemini-fill"></i>MobiComm</h1>
            </a>
            <nav>
                <ul>
                    <li><a href="#hero">Home</a></li>
                    <li><a href="#services">Plans</a></li>
                    <li><a href="#usecases">About Us</a></li>
                    <li><a href="#pricing">Contact Us</a></li>

                </ul>
                <button>Profile</button>
            </nav>
        </header>




        <!-- Main Container -->
        <div class="container mt-4 ">
            <!-- Top Search Bar and Filter Icon -->
            <div class="row search-filter-row align-items-center">
                <div class="col">
                    <input type="search" class="form-control" id="searchBox" placeholder="Search for plans">
                </div>
                <div class="col-auto">
                    <button class="btn btn-outline-secondary" type="button" data-bs-toggle="offcanvas"
                        data-bs-target="#filterOffcanvas" aria-controls="filterOffcanvas">
                        <i class="ri-equalizer-line"></i>
                    </button>
                </div>
            </div>

            <!-- Sub Navigation for Categories -->
            <div class="subnav">
                <ul class="nav" id="categoryNav">
                    <li><a href="#" class="active" data-category="all">All</a></li>
                    <li><a href="#" data-category="talktime">Talktime</a></li>
                    <li><a href="#" data-category="data">Data</a></li>
                    <li><a href="#" data-category="combo">Combo</a></li>
                    <li><a href="#" data-category="international-roaming">International</a></li>
                    <li><a href="#" data-category="ott">OTT</a></li>
                    <li><a href="#" data-category="popular">Popular</a></li>
                </ul>
            </div>

            <!-- Plan List Container -->
            <div class="row mt-4" id="planListContainer">
                <div class="col-12">
                    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-4" id="planList"></div>

                </div>
            </div>
        </div>

        <!-- Offcanvas Filter Options -->

        <div class="offcanvas offcanvas-end" tabindex="-1" id="filterOffcanvas" aria-labelledby="filterOffcanvasLabel">
            <div class="offcanvas-header">
                <h5 id="filterOffcanvasLabel">Filter Options</h5>
                <button type="button" class="btn-close" style="filter: invert(1);" data-bs-dismiss="offcanvas"
                    aria-label="Close"></button>

            </div>
            <div class="offcanvas-body">
                <div class="mb-3">
                    <label for="sortOptions" class="form-label">Sort By</label>
                    <select class="form-select" id="sortOptions">
                        <option value="relevance">Relevance</option>
                        <option value="low-to-high">Price: Low to High</option>
                        <option value="high-to-low">Price: High to Low</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="priceRange" class="form-label">Price Range</label>
                    <input type="range" class="form-range" id="priceRange" min="0" max="2000" step="50">
                    <span id="priceValue">Max: ₹2000</span>
                </div>
                <div class="mb-3">
                    <label for="validityFilter" class="form-label">Validity</label>
                    <select class="form-select" id="validityFilter">
                        <option value="all">All</option>
                        <option value="1">1 Day</option>
                        <option value="7">7 Days</option>
                        <option value="28">28 Days</option>
                        <option value="48">48 Days</option>
                        <option value="56">56 Days</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="dataFilter" class="form-label">Data Allowance</label>
                    <select class="form-select" id="dataFilter">
                        <option value="all">All</option>
                        <option value="1">1 GB/day</option>
                        <option value="2">2 GB/day</option>
                    </select>
                </div>
                <button class="btn btn-secondary w-100" id="resetFilters">Reset Filters</button>
            </div>
        </div>

    </div>

    <!-- Custom Success Toast (Success Card) -->
    <div id="successToast" class="toast-card" style="display: none;">
        <svg class="wave" viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M0,256L11.4,240C22.9,224,46,192,69,192C91.4,192,114,224,137,234.7C160,245,183,235,206,213.3C228.6,192,251,160,274,149.3C297.1,139,320,149,343,181.3C365.7,213,389,267,411,282.7C434.3,299,457,277,480,250.7C502.9,224,526,192,549,181.3C571.4,171,594,181,617,208C640,235,663,277,686,256C708.6,235,731,149,754,122.7C777.1,96,800,128,823,165.3C845.7,203,869,245,891,224C914.3,203,937,117,960,112C982.9,107,1006,181,1029,197.3C1051.4,213,1074,171,1097,144C1120,117,1143,107,1166,133.3C1188.6,160,1211,224,1234,218.7C1257.1,213,1280,139,1303,133.3C1325.7,128,1349,192,1371,192C1394.3,192,1417,128,1429,96L1440,64L1440,320L1428.6,320C1417.1,320,1394,320,1371,320C1348.6,320,1326,320,1303,320C1280,320,1257,320,1234,320C1211.4,320,1189,320,1166,320C1142.9,320,1120,320,1097,320C1074.3,320,1051,320,1029,320C1005.7,320,983,320,960,320C937.1,320,914,320,891,320C868.6,320,846,320,823,320C800,320,777,320,754,320C731.4,320,709,320,686,320C662.9,320,640,320,617,320C594.3,320,571,320,549,320C525.7,320,503,320,480,320C457.1,320,434,320,411,320C388.6,320,366,320,343,320C320,320,297,320,274,320C251.4,320,229,320,206,320C182.9,320,160,320,137,320C114.3,320,91,320,69,320C45.7,320,23,320,11,320L0,320Z"
                fill-opacity="1"></path>
        </svg>
        <div class="icon-container">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" stroke-width="0" fill="currentColor"
                class="icon">
                <path
                    d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z">
                </path>
            </svg>
        </div>
        <div class="message-text-container">
            <p class="message-text">Success message</p>
            <p class="sub-text">Everything seems great</p>
        </div>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" stroke-width="0" fill="none" class="cross-icon">
            <path fill="currentColor"
                d="M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z"
                clip-rule="evenodd" fill-rule="evenodd"></path>
        </svg>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"
        integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"
        integrity="sha512-onMTRKJBKz8M1TnqqDuGBlowlH0ohFzMXYRNebz+yOcc5TQr/zAKsthzhuv0hiyUKEiQEQXEynnXCvNTOk50dg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>




</body>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const planList = document.getElementById("planList");
        const searchBox = document.getElementById("searchBox");
        const categoryNav = document.getElementById("categoryNav");
        const sortOptions = document.getElementById("sortOptions");
        let plans = [];
        document.addEventListener("DOMContentLoaded", function () {
            document.querySelectorAll(".recharge-btn").forEach(button => {
                button.addEventListener("click", function () {
                    const planCard = this.closest(".plan-card");
                    const planDetails = {
                        name: planCard.querySelector(".plan-name").innerText,
                        price: planCard.querySelector(".plan-price").innerText,
                        validity: planCard.querySelector(".plan-validity").innerText,
                        data: planCard.querySelector(".plan-data").innerText,
                        calls: planCard.querySelector(".plan-calls").innerText
                    };

                    // Store plan details in localStorage
                    localStorage.setItem("selectedPlan", JSON.stringify(planDetails));

                    // Redirect to payment page
                    window.location.href = "payment.html";
                });
            });
        });
        async function fetchPlans() {
            try {
                console.log("Fetching plans...");
                const response = await fetch("http://localhost:8082/api/plans/user");

                if (!response.ok) {
                    throw new Error(`Failed to fetch plans. Status: ${response.status}`);
                }

                plans = await response.json();
                console.log("Fetched plans:", plans);

                // Generate category navigation dynamically
                generateCategoryNav(plans);

                // Display plans initially
                displayPlans(plans);
            } catch (error) {
                console.error("Error fetching plans:", error);
                planList.innerHTML = `<p class="text-center text-danger">Error loading plans. Please try again.</p>`;
            }
        }

        function generateCategoryNav(plans) {
            let categories = new Set(plans.map(plan => plan.categoryEntity?.categoryName || "Other"));
            categoryNav.innerHTML = `<li><a href="#" class="active" data-category="all">All</a></li>`;

            categories.forEach(category => {
                categoryNav.innerHTML += `<li><a href="#" data-category="${category}">${category}</a></li>`;
            });

            document.querySelectorAll("#categoryNav a").forEach(link => {
                link.addEventListener("click", function (e) {
                    e.preventDefault();
                    document.querySelectorAll("#categoryNav a").forEach(l => l.classList.remove("active"));
                    this.classList.add("active");
                    filterAndDisplayPlans(this.getAttribute("data-category"));
                });
            });
        }

        function filterAndDisplayPlans(category) {
            let filteredPlans = category === "all" ? plans : plans.filter(plan => plan.categoryEntity?.categoryName === category);
            displayPlans(filteredPlans);
        }

        function displayPlans(filteredPlans) {
            planList.innerHTML = "";
            if (filteredPlans.length === 0) {
                planList.innerHTML = `<p class="text-center text-muted">No plans found</p>`;
                return;
            }

            const fragment = document.createDocumentFragment();
            filteredPlans.forEach(plan => {
                const card = document.createElement("div");
                card.className = "col";
                card.innerHTML = `
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h4 class="card-title text-bold">₹${plan.planPrice}</h4>
                            <p class="card-text">${plan.planName}</p>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item"><strong>Calls:</strong> ${plan.calls || "Unlimited"}</li>
                                <li class="list-group-item"><strong>Data:</strong> ${plan.data || "Not Specified"}</li>
                                <li class="list-group-item"><strong>Validity:</strong> ${plan.validityDays} Days</li>
                            </ul>
                            <button class="btn btn-primary w-100 mt-2">Recharge</button>
                        </div>
                    </div>
                `;
                fragment.appendChild(card);
            });
            planList.appendChild(fragment);
        }

        // Search Functionality
        searchBox.addEventListener("input", function () {
            const searchQuery = this.value.toLowerCase();
            const filteredPlans = plans.filter(plan => plan.planName.toLowerCase().includes(searchQuery));
            displayPlans(filteredPlans);
        });

        // Sorting Functionality
        sortOptions.addEventListener("change", function () {
            let sortedPlans = [...plans];
            if (this.value === "low-to-high") {
                sortedPlans.sort((a, b) => a.planPrice - b.planPrice);
            } else if (this.value === "high-to-low") {
                sortedPlans.sort((a, b) => b.planPrice - a.planPrice);
            }
            displayPlans(sortedPlans);
        });

        // Fetch and display plans on page load
        fetchPlans();
    });
</script>


<script>
    document.addEventListener("DOMContentLoaded", function () {
        const planList = document.getElementById("planList");
        const categoryNav = document.getElementById("categoryNav");
        let plans = [];
        let availableCategories = new Set();

        async function fetchPlans() {
            try {
                console.log("Fetching plans...");
                const response = await fetch("http://localhost:8082/api/plans");

                console.log("Response status:", response.status);
                if (!response.ok) {
                    throw new Error(`Failed to fetch plans. Status: ${response.status}`);
                }

                plans = await response.json();
                console.log("Fetched plans:", plans);

                // ✅ Collect all unique categories
                plans.forEach(plan => {
                    if (plan.planType) {
                        availableCategories.add(plan.planType);
                    }
                });

                // ✅ Dynamically generate the navigation menu
                generateCategoryNav([...availableCategories]);

                // ✅ Display plans initially
                displayPlans(plans);
            } catch (error) {
                console.error("Error fetching plans:", error);
                planList.innerHTML = `<p class="text-center text-danger">Error loading plans. Please try again.</p>`;
            }
        }

        function generateCategoryNav(categories) {
            categoryNav.innerHTML = ""; // Clear existing categories

            // ✅ Add "All" category first
            categoryNav.innerHTML += `<a href="#" class="nav-link active" data-category="all">All</a>`;

            // ✅ Add categories dynamically
            categories.forEach(category => {
                categoryNav.innerHTML += `<a href="#" class="nav-link" data-category="${category}">${category}</a>`;
            });

            // ✅ Add event listeners for category selection
            document.querySelectorAll("#categoryNav a").forEach(link => {
                link.addEventListener("click", function (e) {
                    e.preventDefault();
                    document.querySelectorAll("#categoryNav a").forEach(l => l.classList.remove("active"));
                    this.classList.add("active");
                    filterAndDisplayPlans(this.getAttribute("data-category"));
                });
            });
        }

        function filterAndDisplayPlans(category) {
            let filteredPlans = category === "all" ? plans : plans.filter(plan => plan.planType === category);
            displayPlans(filteredPlans);
        }

        function displayPlans(filteredPlans) {
            planList.innerHTML = "";
            if (filteredPlans.length === 0) {
                planList.innerHTML = `<p class="text-center text-muted">No plans found</p>`;
                return;
            }

            const fragment = document.createDocumentFragment();
            filteredPlans.forEach(plan => {
                const card = document.createElement("div");
                card.className = "teamcol";
                card.innerHTML = `
            <div class="teamhead">
                <div class="teamname">
                    <h3>₹${plan.planPrice}</h3>
                    <p>${plan.planName || "Plan Name"}</p>
                </div>
            </div>
            <ul>
                <li>${plan.calls || "Unlimited Calls"}</li>
                <li>${plan.data || "100 GB Data"}</li>
                <li>${plan.sms || "Free SMS"}</li>
                <li>Validity: ${plan.validityDays} Days</li>
            </ul>
            <button class="btn-choose">Recharge</button>
        `;
                fragment.appendChild(card);
            });
            planList.appendChild(fragment);
        }

        // ✅ Fetch plans from backend on page load
        fetchPlans();
    });
</script>

</html>